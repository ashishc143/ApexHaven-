<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ApexHaven | Booking</title>
    <style>
        body{
            margin:0;
            font-family: Arial, Helvetica, sans-serif;
            text-align:center;
        }
        nav{
            background:black;
            color:white;
            padding:15px 40px;
            display:flex;
            justify-content:space-between;
            align-items:center;
        }
        nav a{
            color:white;
            text-decoration:none;
            margin-left:20px;
        }
        .box{
            margin:40px auto;
            width:300px;
            border:1px solid #ccc;
            padding:20px;
        }
        input{
            width:100%;
            padding:8px;
            margin-top:5px;
            margin-bottom:15px;
        }
        button{
            background:black;
            color:white;
            padding:10px;
            border:none;
            cursor:pointer;
            width:100%;
        }
        footer{
            background:black;
            color:white;
            text-align:center;
            padding:15px;
            margin-top:20px;
        }
    </style>
</head>
<body>

    <nav>
        <h2>ApexHaven</h2>
        <div>
            <a href="index.html">Home</a>
            <a href="rooms.html">Rooms</a>
        </div>
    </nav>

    <div class="box">
        <h2>Complete Your Booking</h2>

        <p><strong>Room:</strong> <span id="room"></span></p>
        <p><strong>Price/Night:</strong> ₹<span id="price"></span></p>

        <label>Check In</label>
        <input type="date" id="checkin">

        <label>Check Out</label>
        <input type="date" id="checkout">

        <p><strong>Total Nights:</strong> <span id="nights">0</span></p>
        <p><strong>Total Amount:</strong> ₹<span id="total">0</span></p>

        <button onclick="proceedPayment()">Proceed to Payment</button>
    </div>

    <footer>
        <p>© 2026 ApexHaven. All Rights Reserved.</p>
    </footer>

<script>
const roomName = localStorage.getItem("roomName");
const price = localStorage.getItem("roomPrice");

document.getElementById("room").innerText = roomName;
document.getElementById("price").innerText = price;

document.getElementById("checkin").addEventListener("change", calculate);
document.getElementById("checkout").addEventListener("change", calculate);

function calculate(){
    const checkin = new Date(document.getElementById("checkin").value);
    const checkout = new Date(document.getElementById("checkout").value);

    if(checkin && checkout && checkout > checkin){
        const diff = checkout - checkin;
        const nights = diff / (1000 * 60 * 60 * 24);
        const total = nights * price;

        document.getElementById("nights").innerText = nights;
        document.getElementById("total").innerText = total;

        localStorage.setItem("totalNights", nights);
        localStorage.setItem("totalAmount", total);
    }
}

function proceedPayment(){
    if(!localStorage.getItem("totalAmount")){
        alert("Please select valid dates");
        return;
    }
    window.location.href = "payment.html";
}
</script>

</body>
</html>